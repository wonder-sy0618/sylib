<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport"
			content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
	</head>
	<body>
		
		<div id="wrapper" >
		</div>
		
		<script src="../sylib.js" type="text/javascript" charset="utf-8"></script>
		<script>
			seajs.use(['jquery/jquery', 'syl/fileserver', 'baidu/WebUpoaderLoader/imageupload'], function($, fileserver, imageupload) {
				fileserver.request_token(function(token, basepath) {
					imageupload.init({
						element : '#wrapper',
						server : basepath + '?token=' + token,
					//	imgarray : [basepath+'storage/2015/06/16/125726979_5117.jpg?action=cut&mode=cut_area&height=110&width=110&positions=center'],
						imagearray_change : function(imgarray) {
							console.log("图片上传结束", imgarray);
						},
						maxFileNum : 3,
						reviseFileNum : 0
					});
				}, 'http://123.139.154.172/fileserver/fileServerUploadToken.jsp');
			});
		</script>
		
		
		
		
		
		
		<button class="btn_upload" style="margin:30px;" >使用对话框上传</button>
		<script src="../sylib.js" type="text/javascript" charset="utf-8"></script>
		<script>
			seajs.use(['jquery/jquery', 'syl/dialog/imgupload'], function($, imgupload) {
				$(".btn_upload").click(function() {
					imgupload.showImageUploadDialog({
						urlFileServer : 'http://123.139.154.172/fileserver/fileServerUploadToken.jsp',
						imagearray_change : function(arr) {
							console.log("image change", arr);
						},
						onclose : function() {
							console.log("close");
						},
						maxFileNum : 1
					});
				});
			});
		</script>
		
	</body>
</html>